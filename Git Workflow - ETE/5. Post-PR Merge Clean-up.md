# Clean-up
| ***Stage***                                                                   | ***Key Commands***                                                                                      |
|-------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------|
| **Sync Local after Merge**                                                    |                                                                                                         |
| Branch: `git switch main` + enter                                             | Switch to main                                                                                          |
| Fetch: `git fetch origin` + enter                                             | Download latest from remote                                                                             |  
| Merge: `git merge origin/main`                                                | ðŸ“Œ Integrate changes from remote main                                                                   |
| Verify: `git status`                                                          | ðŸ“Œ Check if local is ahead/behind                                                                       |
| Verify: `git log --oneline --graph --decorate --all`                          | ðŸ“Œ Visualize commit graph relative to remote main                                                       |
|                                                                               |                                                                                                         |
| **Post-PR Merge and Sync:**                                                   |                                                                                                         |
| ***0. Pre-cleanup - Kicking the tyres***                                      |                                                                                                         |
| Pre-delete Check: `git branch -vv`                                            | ðŸ“Œ View local branches + upstream status                                                                |
| Pre-Pruning: `git remote show origin` + enter                                 | View remote information including which remote branches it tracks and which ones are "stale" or "gone". |
| Pre-delete Check: `git branch -r --merged`                                    | ðŸ“Œ List remote-tracking branches merged into current branch                                             |
| `git branch -r --merged \| Select-String 'origin'` + enter                    | List remote-tracking branches merged into the current branch                                            |
|                                                                               |                                                                                                         |
| ***1. Delete Merged Remote Branch***                                          | Remove the branch from the Remote                                                                       |
| Pre-delete Check: `git branch -vv`                                            | ðŸ“Œ View local branches + upstream status                                                                |
| Pre-delete Check: `git branch -r --merged`                                    | ðŸ“Œ List remote-tracking branches merged into current branch                                             |
|                                                                               |                                                                                                         |
| Delete Remote: `git push origin -d branch1 branch2` + enter                   | Delete remote branch                                                                                    |
| Verify: `git branch -r` + enter                                               | View remote branches - List all remote-tracking branches                                                |
| Verify: `git branch -vv`                                                      | ðŸ“Œ View local branches + upstream status                                                                |
|                                                                               |                                                                                                         |
| ***2. Delete Merged Local Branch***                                           | Remove the branch from the Local                                                                        | 
| Pre-delete Check: `git branch -vv` + enter                                    | ðŸ“Œ View local branches + upstream status                                                                |
| Pre-delete Check: `git branch -v` + enter                                     | ðŸ“Œ View branches and their last commit                                                                  |
| Pre-delete Check: `git branch --merged` + enter                               | ðŸ“Œ View branches are already merged into your current branch                                            |
|                                                                               |                                                                                                         |
| Branch: `git switch main` + enter                                             | Switch to main branch                                                                                   |
| Update: `git pull origin main` + enter                                        | Update Local Main: Fetch the newly merged changes from the remote.                                      |
| Delete Local: `git branch -d branchNm` + enter                                | Delete merged branch locally                                                                            |
| Delete Local: `git branch -d branchNm1 branch2` + enter                       | Delete merged branch locally                                                                            |
|                                                                               |                                                                                                         |
| Verify: `git branch -vv` + enter                                              | ðŸ“Œ View local branches + upstream status                                                                |
| Verify: `git branch -v` + enter                                               | ðŸ“Œ View branches and their last commit                                                                  |
| Verify: `git branch --merged` + enter                                         | ðŸ“Œ View branches are already merged into your current branch                                            |
|                                                                               |                                                                                                         |
| ***3. Prune Stale/"Ghost" Tracking References***                              | Remove the branch from the Local                                                                        |
| Pre-Pruning: `git remote show origin` + enter                                 | View remote information including which remote branches it tracks and which ones are "stale" or "gone". |
| Pre-Pruning: `git branch --vv` + enter                                        | Verify: Shows if your local branches are now tracking a <gone> remote.                                  |
| Pre-Pruning: `git fetch --prune --dry-run` + enter                            | Pre-check: Shows exactly what would be removed without doing it.                                        |
|                                                                               |                                                                                                         |
| **Prune:** `git fetch --prune`                                                | ðŸ“Œ Remove stale remote-tracking branches                                                                |
| **Prune:** `git remote prune origin`                                          | ðŸ“Œ Remove all stale tracking branches for just that remote.                                             |
|                                                                               |                                                                                                         || Prune: `git fetch -p` or `git fetch --prune` + enter                                                                                | Update local repo and remove(prune) remote-tracking branches that no longer exist on the remote         |
| **Verify: Delete Stale References**                                           |                                                                                                         |
| `git remote show origin` + enter                                              | View remote information including which remote branches it tracks and which ones are "stale" or "gone". |
| Post-prune Check: `git branch -vv`                                            | ðŸ“Œ Verify local branches + upstream status                                                              |
| Post-Prune Check: `git branch -r`                                             | ðŸ“Œ Verify remote-tracking branches                                                                      |
|                                                                               |                                                                                                         |
| `git push origin -d branchNm` or `git push origin --delete  branchNm` + enter | Delete remote branch                                                                                    |
| `git branch --merged` + enter                                                 | View list all local branches fully contained within the history of current HEAD.                        |
| `git branch --merged <commit>` + enter e.g., `git branch --merged main`       | View list all local branches fully contained within the history of that specific commit.                |
|                                                                               |                                                                                                         |

#### One-Liner Delete
1. Delete local branches merged into current, excluding 'main' and current branch
```bash
`git branch --merged \| Where-Object { $_ -notmatch '^\*' -and $_ -notmatch 'main' } \| ForEach-Object { git branch -d $_.Trim() }`
```
2. Identify and delete merged remote-tracking branches (local refs only)
```bash 
`git branch -r --merged \| Select-String 'origin/' \| ForEach-Object { git branch -rd $_.ToString().Trim() }`
```
